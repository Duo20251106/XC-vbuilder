import{$ as l,a0 as u,a1 as D,a2 as o,a3 as r,d as m,a4 as k,b as x,o as h,i as C,h as I,u as O,f as R,I as E,c as B}from"./vendor-BqmjoSUr.js";import{_ as M}from"./index-Cstmsnpx.js";import"./charts-C1SfFys0.js";const S=[{id:"001",name:"XC一",age:"15",isOpen:!0,hobby:["music","dancing"],avatar:["https://i.pravatar.cc/300"],notes:"**This is a markdown cell**"},{id:"002",name:"XC二",age:"18",isOpen:!0,hobby:["basketball","music"],avatar:["https://i.pravatar.cc/300"],notes:"true"},{id:"003",name:"XC三",age:"23",isOpen:!1,hobby:["dancing","basketball"],avatar:["https://i.pravatar.cc/300"],notes:"true"},{id:"004",name:"XC四",age:"25",isOpen:!0,hobby:["music","basketball"],avatar:["https://i.pravatar.cc/300"],notes:"true"}],H=[{title:"ID",width:100,icon:o.HeaderRowID},{title:"姓名",width:100,icon:o.HeaderTextTemplate},{title:"年龄",width:100,icon:o.HeaderNumber},{title:"状态",width:50},{title:"爱好",width:200},{title:"头像",width:200,icon:o.HeaderImage},{title:"笔记",width:200,icon:o.HeaderMarkdown}];function X(i){const a=i.id,s=l.useRef(null),d=l.useMemo(()=>{const e=a==="1"?1e6:1e5;return new Array(e).fill(0).map((t,c)=>{const f=Math.floor(Math.random()*4),_=S[f],y=c%71;return{..._,id:`00${c}`,name:`XC${Math.random().toString(36).substring(2,4)}`,avatar:[`https://i.pravatar.cc/300?img=${y}`]}})},[a]),p=([e,n])=>{const t=d[n];switch(e){case 0:return{kind:r.RowID,data:t.id,allowOverlay:!1,displayData:t.id};case 1:return{kind:r.Text,data:t.name,allowOverlay:!0,displayData:t.name,hasMenu:!0};case 2:return{kind:r.Number,data:t.age,allowOverlay:!0,displayData:t.age};case 3:return{kind:r.Boolean,data:t.isOpen,displayData:t.isOpen};case 4:return{kind:r.Bubble,data:t.hobby,allowOverlay:!0,displayData:t.hobby};case 5:return{kind:r.Image,data:t.avatar,allowOverlay:!0,displayData:t.avatar};case 6:return{kind:r.Markdown,data:t.notes,allowOverlay:!0,displayData:t.notes};default:return{}}},[w,v]=l.useState({width:500,height:300}),{width:b,height:g}=w;return l.useEffect(()=>{const e=()=>{const n=s.current.parentElement.parentElement;if(n){const{width:t,height:c}=n.getBoundingClientRect();v({width:t-12,height:c-12})}};return e(),window.addEventListener("resize",e,!1),()=>window.removeEventListener("resize",e)},[]),u.jsxs("div",{ref:s,children:[u.jsx(D,{width:b,height:g,columns:H,getCellContent:p,rows:d.length,onCellEdited:(e,n)=>console.log(e,n)},a),u.jsx("div",{id:"portal",style:{position:"fixed",left:0,top:0,zIndex:9999}})]})}const $={class:"data-source-content-wrapper"},j={class:"data-source-render"},L=m({__name:"DataSourceContent",props:{id:{}},setup(i){const a=k(X);return(s,d)=>(h(),x("div",$,[C("div",j,[I(O(a),{id:i.id},null,8,["id"])])]))}}),N=M(L,[["__scopeId","data-v-86bdc796"]]),A=m({__name:"DataSourceDetailView",setup(i){const a=E(),s=R(()=>a.params.id);return(d,p)=>(h(),B(N,{id:s.value},null,8,["id"]))}});export{A as default};
//# sourceMappingURL=DataSourceDetailView-CaWEUznY.js.map
